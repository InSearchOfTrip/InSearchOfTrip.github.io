"use strict";(self["webpackChunkfortissimo"]=self["webpackChunkfortissimo"]||[]).push([[77],{6325:function(t,e,s){s.d(e,{Z:function(){return l}});var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bread-crumbs"},[s("div",{staticClass:"container-wrapper large"},[s("div",{staticClass:"body"},[t._l(t.items,(function(e){return[e!==t.items[t.items.length-1]?[s("RouterLink",{staticClass:"link",attrs:{to:e.link}},[t._v(" "+t._s(e.name)+" ")]),s("span",{staticClass:"sep"},[t._v("/")])]:s("span",{staticClass:"current"},[t._v(t._s(e.name))])]}))],2)])])},i=[],o={props:{items:{type:Array,required:!0}}},a=o,n=s(3736),c=(0,n.Z)(a,r,i,!1,null,"392138ea",null),l=c.exports},1077:function(t,e,s){s.r(e),s.d(e,{default:function(){return $}});var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("Header"),s("div",{staticClass:"catalog"},[s("BreadCrumbs",{attrs:{items:t.breadCrumbs}}),s("Links"),s("Sorter",{on:{setSortedOptions:t.setOptions}}),s("Catalog",{attrs:{setSortOptions:t.sortedOptions,sliderSettings:{slidesToShow:4,slidesToScroll:4,infinite:!1,swipe:!1,dots:!0,arrows:!1,adaptiveHeight:!1,responsive:[{breakpoint:1600,settings:{slidesToShow:3,slidesToScroll:1,infinite:!1}},{breakpoint:1199,settings:{slidesToShow:2,slidesToScroll:1,infinite:!1}},{breakpoint:767,settings:{slidesToShow:1,slidesToScroll:1,infinite:!1,rows:8}}]}}})],1),s("Footer")],1)},i=[],o=s(1448),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"sorter"},[s("div",{staticClass:"sorter_wrapper"},[s("div",{staticClass:"container"},[s("div",{staticClass:"sorter_group"},[s("div",{staticClass:"sorter_radio sorter-radio"},[s("div",{staticClass:"sorter-radio_text"},[t._v("маса")]),s("div",{staticClass:"sorter-radio_input-group"},[s("div",{staticClass:"sorter-radio_input",class:{active:-1!==t.sort.weight.indexOf("250")}},[s("label",[t._v(" 250 г "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.sort.weight,expression:"sort.weight"}],attrs:{type:"checkbox",value:"250"},domProps:{checked:Array.isArray(t.sort.weight)?t._i(t.sort.weight,"250")>-1:t.sort.weight},on:{change:function(e){var s=t.sort.weight,r=e.target,i=!!r.checked;if(Array.isArray(s)){var o="250",a=t._i(s,o);r.checked?a<0&&t.$set(t.sort,"weight",s.concat([o])):a>-1&&t.$set(t.sort,"weight",s.slice(0,a).concat(s.slice(a+1)))}else t.$set(t.sort,"weight",i)}}})])]),s("div",{staticClass:"sorter-radio_input",class:{active:-1!==t.sort.weight.indexOf("500")}},[s("label",[t._v(" 500 г "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.sort.weight,expression:"sort.weight"}],attrs:{type:"checkbox",value:"500"},domProps:{checked:Array.isArray(t.sort.weight)?t._i(t.sort.weight,"500")>-1:t.sort.weight},on:{change:function(e){var s=t.sort.weight,r=e.target,i=!!r.checked;if(Array.isArray(s)){var o="500",a=t._i(s,o);r.checked?a<0&&t.$set(t.sort,"weight",s.concat([o])):a>-1&&t.$set(t.sort,"weight",s.slice(0,a).concat(s.slice(a+1)))}else t.$set(t.sort,"weight",i)}}})])]),s("div",{staticClass:"sorter-radio_input",class:{active:-1!==t.sort.weight.indexOf("1000")}},[s("label",[t._v(" 1 кг "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.sort.weight,expression:"sort.weight"}],attrs:{type:"checkbox",value:"1000"},domProps:{checked:Array.isArray(t.sort.weight)?t._i(t.sort.weight,"1000")>-1:t.sort.weight},on:{change:function(e){var s=t.sort.weight,r=e.target,i=!!r.checked;if(Array.isArray(s)){var o="1000",a=t._i(s,o);r.checked?a<0&&t.$set(t.sort,"weight",s.concat([o])):a>-1&&t.$set(t.sort,"weight",s.slice(0,a).concat(s.slice(a+1)))}else t.$set(t.sort,"weight",i)}}})])])])]),s("div",{staticClass:"sorter_radio sorter-radio"},[s("div",{staticClass:"sorter-radio_text"},[t._v("помел")]),s("div",{staticClass:"sorter-radio_input-group"},[s("div",{staticClass:"sorter-radio_input",class:{active:-1!==t.sort.type.indexOf("ground")}},[s("label",[t._v(" Мелена "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.sort.type,expression:"sort.type"}],attrs:{type:"checkbox",value:"ground"},domProps:{checked:Array.isArray(t.sort.type)?t._i(t.sort.type,"ground")>-1:t.sort.type},on:{change:function(e){var s=t.sort.type,r=e.target,i=!!r.checked;if(Array.isArray(s)){var o="ground",a=t._i(s,o);r.checked?a<0&&t.$set(t.sort,"type",s.concat([o])):a>-1&&t.$set(t.sort,"type",s.slice(0,a).concat(s.slice(a+1)))}else t.$set(t.sort,"type",i)}}})])]),s("div",{staticClass:"sorter-radio_input",class:{active:-1!==t.sort.type.indexOf("grains")}},[s("label",[t._v(" Зерна "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.sort.type,expression:"sort.type"}],attrs:{type:"checkbox",value:"grains"},domProps:{checked:Array.isArray(t.sort.type)?t._i(t.sort.type,"grains")>-1:t.sort.type},on:{change:function(e){var s=t.sort.type,r=e.target,i=!!r.checked;if(Array.isArray(s)){var o="grains",a=t._i(s,o);r.checked?a<0&&t.$set(t.sort,"type",s.concat([o])):a>-1&&t.$set(t.sort,"type",s.slice(0,a).concat(s.slice(a+1)))}else t.$set(t.sort,"type",i)}}})])])])]),s("div",{staticClass:"sorter_clear"},[s("button",{on:{click:t.clearSort}},[t._v("Очистити фільтри")])])]),s("div",{staticClass:"sorter_group"},[s("div",{staticClass:"sorter_type sorter-type"},[s("div",{staticClass:"sorter-type_text"},[t._v("Сортувати")]),s("div",{staticClass:"sorter-type_select"},[s("v-select",{attrs:{value:t.sort.sortType,options:t.sortOptions},on:{search:t.searching,input:t.onSelect}})],1)])])])])])},n=[],c=s(9938),l=s.n(c),d={components:{vSelect:l()},data(){return{sort:{weight:[],type:[],sortType:"По замовчуванню"},sortOptions:["По замовчуванню","Спочатку дешеві","Спочатку дорогі","Новинка","Хіт продажів","Акція"]}},methods:{clearSort(){this.sort.weight=[],this.sort.type=[]},onSelect(t){this.sort.sortType=t},searching(){console.log("searching")}},watch:{sort:{handler(){this.$emit("setSortedOptions",this.sort)},deep:!0}},beforeCreate(){}},u=d,p=s(3736),h=(0,p.Z)(u,a,n,!1,null,"a27f7a20",null),g=h.exports,C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"products_slider products-slider",class:"rows_"+t.cualityRows()},[s("div",{staticClass:"products-slider_wrapper"},[s("VueSlickCarousel",t._b({ref:"carousel",on:{afterChange:t.changed,reInit:t.addArrows}},"VueSlickCarousel",Object.assign({},t.sliderSettings,{rows:t.cualityRows()}),!1),t._l(t.getProducts,(function(e,r){return s("div",{key:r,staticClass:"products-slider_container"},[s("div",{staticClass:"products-slider_item slider-item"},[s("router-link",{staticClass:"slider-item_top",attrs:{tag:"div",to:"/productPage:"+e.id}},[s("div",{staticClass:"slider-item_head item-head"},[s("div",{staticClass:"item-head_markers head-markers"},t._l(e.marks,(function(e,r){return s("div",{key:r,staticClass:"head-markers_item",domProps:{textContent:t._s(e)}})})),0)]),s("div",{staticClass:"slider-item_img"},[s("img",{attrs:{src:t.getImg(e.img),alt:""}})]),s("div",{staticClass:"slider-item_group"},[s("div",{staticClass:"slider-item_title",domProps:{textContent:t._s(e.title)}}),s("div",{staticClass:"slider-item_taste",domProps:{textContent:t._s(e.taste)}})])]),s("div",[s("div",{staticClass:"slider-item_choose item-choose"},[s("div",{staticClass:"item-choose_container"},[s("div",{staticClass:"item-choose_wrap"},[s("div",{staticClass:"item-choose_weight choose-weight"},t._l(e.priseStructure[e.typeChoosed].prises,(function(r,i){return s("div",{key:i,staticClass:"choose-weight_item"},[s("label",{class:{active:i===e.weightChoosed}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.weightChoosed,expression:"el.weightChoosed"}],attrs:{type:"radio",required:"",name:"weight"},domProps:{value:i,checked:t._q(e.weightChoosed,i)},on:{change:function(s){return t.$set(e,"weightChoosed",i)}}}),t._v(" "+t._s(t.weightText(i))+" ")])])})),0),s("div",{staticClass:"item-choose_type choose-type"},t._l(e.priseStructure,(function(r,i){return s("div",{key:i,staticClass:"choose-type_item"},[s("label",{class:{active:i===e.typeChoosed}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.typeChoosed,expression:"el.typeChoosed"}],attrs:{type:"radio",required:"",name:"type"},domProps:{value:i,checked:t._q(e.typeChoosed,i)},on:{change:function(s){return t.$set(e,"typeChoosed",i)}}}),t._v(" "+t._s("ground"===i?"мелена":"зерна")+" ")])])})),0)])])]),s("div",{staticClass:"slider-item_footer item-footer"},[s("button",{staticClass:"item-footer_price"},["object"===typeof t.calcPrise(e.id)?[s("span",{staticClass:"new"},[t._v(t._s(t.calcPrise(e.id).new)+" грн")]),s("span",{staticClass:"old"},[t._v(t._s(t.calcPrise(e.id).old)+" грн")])]:[s("span",{domProps:{innerHTML:t._s(t.calcPrise(e.id))}}),t._v(" "),s("span",[t._v("грн")])]],2),s("div",{class:["item-footer_basket-group",{active:t.isBasketEmpty(e)}]},[s("div",{staticClass:"item-footer_basket-control basket-control"},[s("button",{staticClass:"basket-control_minus",on:{click:function(s){return t.decrementProduct(e)}}},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"}},[s("path",{attrs:{d:"M5 12H19",stroke:"black","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}})])]),s("button",{staticClass:"basket-control_plus",on:{click:function(s){return t.incrementProduct(e)}}},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"}},[s("path",{attrs:{d:"M8 1V15M1 8H15",stroke:"black","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}})])])]),s("button",{class:["item-footer_basket basket"],on:{click:function(s){return t.addInBasket(e)}}},[s("svg",{staticClass:"basket_img",attrs:{width:"22",height:"26",viewBox:"0 0 22 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.1187 5V5.34984C18.5888 5.61682 20.5424 7.73416 20.6989 10.3787L21.2399 19.5216C21.4227 22.6117 19.0972 25.25 16.1309 25.25H5.86905C2.90284 25.25 0.577238 22.6117 0.760089 19.5216L1.30108 10.3787C1.45754 7.73431 3.41094 5.61706 5.8809 5.34989V5C5.8809 2.66586 7.67556 0.75 9.91781 0.75H12.0818C14.324 0.75 16.1187 2.66586 16.1187 5ZM14.5367 5V5.32143H7.46287V5C7.46287 3.54705 8.5747 2.39286 9.91781 2.39286H12.0818C13.4248 2.39286 14.5367 3.54705 14.5367 5ZM2.88007 10.4795C2.9977 8.49159 4.55425 6.96429 6.41004 6.96429H15.5899C17.4457 6.96429 19.0023 8.49159 19.1199 10.4795L19.6609 19.6224C19.7895 21.7958 18.1576 23.6071 16.1309 23.6071H5.86905C3.84242 23.6071 2.21047 21.7958 2.33908 19.6224L2.88007 10.4795ZM7.46287 9.32143H5.8809V10.7143C5.8809 13.0484 7.67556 14.9643 9.91781 14.9643H12.0818C14.324 14.9643 16.1187 13.0484 16.1187 10.7143V9.32143H14.5367V10.7143C14.5367 12.1672 13.4248 13.3214 12.0818 13.3214H9.91781C8.57471 13.3214 7.46287 12.1672 7.46287 10.7143V9.32143Z",fill:"#1B1B1A"}})]),t.isBasketEmpty(e)?s("span",{staticClass:"basket_count",domProps:{textContent:t._s(t.showBasketCnt(e))}}):s("span",{staticClass:"basket_text"},[t._v("кошик")])])])])])],1)])})),0)],1)])},v=[],m=s(144),w=s(2529),y=s.n(w),_={name:"Catalog",components:{VueSlickCarousel:y()},props:["sortedPoducts","sliderSettings","setSortOptions"],data(){return{products:[],currentSlide:0,dotsCtn:0}},computed:{getProducts(){let t;return"vsi-tovari"===this.$route.params.slug.slice(1)?t=JSON.parse(JSON.stringify(this.$store.getters.getAllProducts)):this.$store.getters.getCategories.forEach((e=>{e.slug===this.$route.params.slug.slice(1)&&(t=JSON.parse(JSON.stringify(e.products)),t.forEach((t=>{m.Z.set(t,"weightChoosed","250"),m.Z.set(t,"typeChoosed","grains"),m.Z.set(t,"addedInBasket",[]),Object.keys(t.priseStructure.grains.prises).forEach((e=>{t.priseStructure.grains.prises[e.replace(/[^0-9]/g,"")]=t.priseStructure.grains.prises[e],delete t.priseStructure.grains.prises[e]})),Object.keys(t.priseStructure.ground.prises).forEach((e=>{t.priseStructure.ground.prises[e.replace(/[^0-9]/g,"")]=t.priseStructure.ground.prises[e],delete t.priseStructure.ground.prises[e]}))})))})),t=this.sortedMain(this.setSortOptions,t),t&&(this.products=t),t},sortOptions(){this.sortedOptions=this.setSortOptions}},methods:{getImg(t){return`https://fortissimo.devseonet.com//storage/${t}`},calcPrise(t){let e="";return this.products.forEach((s=>{if(s.id===t){let t=s["priseStructure"][s.typeChoosed],r=t["prises"];return e=r[s.weightChoosed],e}})),e},isBasketEmpty(t){let e=this._findElInBasket(t,(function(t){return t.cnt>0}));return e},_findElInBasket(t,e){let s;return t.addedInBasket.forEach((r=>{if(t.typeChoosed!==r.typeChoosed||t.weightChoosed!==r.weightChoosed)return!1;s=e(r)})),s},showBasketCnt(t){return this._findElInBasket(t,(function(t){return t.cnt}))},addInBasket(t){let e={cnt:1,weightChoosed:t.weightChoosed,typeChoosed:t.typeChoosed};t.addedInBasket.push(e);let s=JSON.parse(JSON.stringify(t));this.$store.commit("addInBaskt",{clone:JSON.parse(JSON.stringify(s)),basketObj:JSON.parse(JSON.stringify(e))})},incrementProduct(t){this._findElInBasket(t,(e=>{e.cnt++,this.$store.commit("incrProdInBasket",{id:t.id,typeChoosed:e.typeChoosed,weightChoosed:e.weightChoosed})}))},decrementProduct(t){let e=t.addedInBasket;for(let s=0;s<e.length;s++){let r=e[s],i={id:t.id,typeChoosed:r.typeChoosed,weightChoosed:r.weightChoosed};r.typeChoosed===t.typeChoosed&&r.weightChoosed===t.weightChoosed&&(r.cnt-1!=0?(r.cnt--,this.$store.commit("decrProdInBasket",i)):(e.splice(s,1),this.$store.commit("decrProdInBasket",i)))}},prev(){this.$refs.carousel.prev()},next(){this.$refs.carousel.next()},changed(t){this.currentSlide=t},weightText(t){return"1000"===t?"1 кг":`${t} г`},addArrows(){this.$nextTick((()=>{let t,e=document.querySelector(".slick-dots");if(e&&(t=e.querySelectorAll("li").length),e&&t!==this.dotsCtn){this.dotsCtn=t;let s=document.querySelector(".control");s&&s.remove();let r=document.createElement("div");r.classList.add("control");let i=document.createElement("button"),o=document.createElement("button");i.classList.add("control_prev"),o.classList.add("control_next"),i.onclick=this.prev,o.onclick=this.next,i.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="14" viewBox="0 0 24 14" fill="none" > <path d="M0.22528 7.8042C0.568878 8.17662 1.11035 8.4496 1.51858 8.73363C2.42116 9.36204 8.49003 13.5699 8.2635 13.2961C9.00877 14.1958 10.27 12.8965 9.5308 12.0028C9.21931 11.6268 8.60919 11.3611 8.2149 11.104C7.29669 10.5048 3.9192 8.3138 3.14583 7.81822C4.27759 7.89542 10.1627 8.00604 11.9727 8.04508C15.5901 8.12314 19.2875 8.43195 22.9011 8.24218C24.365 8.16498 24.3675 5.99449 22.9011 5.91753C19.2877 5.72755 15.5901 6.03635 11.9727 6.11463C10.226 6.15237 4.15194 6.25329 2.86686 6.36263C3.64213 5.64473 4.42453 4.93612 5.20807 4.2275C6.35816 3.18958 7.99633 2.19114 8.79419 0.840757C8.92491 0.619935 8.70845 0.343692 8.46918 0.409895C6.93811 0.828462 5.48727 2.30565 4.24635 3.27754C2.86796 4.35791 1.5392 5.50884 0.225405 6.67179C-0.100877 6.96205 -0.0482042 7.50769 0.22528 7.8042Z" fill="#1B1B1A" /> </svg>',o.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="14" viewBox="0 0 24 14" fill="none" > <path d="M0.22528 7.8042C0.568878 8.17662 1.11035 8.4496 1.51858 8.73363C2.42116 9.36204 8.49003 13.5699 8.2635 13.2961C9.00877 14.1958 10.27 12.8965 9.5308 12.0028C9.21931 11.6268 8.60919 11.3611 8.2149 11.104C7.29669 10.5048 3.9192 8.3138 3.14583 7.81822C4.27759 7.89542 10.1627 8.00604 11.9727 8.04508C15.5901 8.12314 19.2875 8.43195 22.9011 8.24218C24.365 8.16498 24.3675 5.99449 22.9011 5.91753C19.2877 5.72755 15.5901 6.03635 11.9727 6.11463C10.226 6.15237 4.15194 6.25329 2.86686 6.36263C3.64213 5.64473 4.42453 4.93612 5.20807 4.2275C6.35816 3.18958 7.99633 2.19114 8.79419 0.840757C8.92491 0.619935 8.70845 0.343692 8.46918 0.409895C6.93811 0.828462 5.48727 2.30565 4.24635 3.27754C2.86796 4.35791 1.5392 5.50884 0.225405 6.67179C-0.100877 6.96205 -0.0482042 7.50769 0.22528 7.8042Z" fill="#1B1B1A" /> </svg>',r.appendChild(i),r.appendChild(e),r.appendChild(o),document.querySelector(".products-slider_wrapper").appendChild(r)}}))},cualityRows(){if(this.products){let t=this.products.length;return t>=12?3:t>=8&&t<12?2:1}},sortMarks(t,e){return t.sort((t=>{let s=t.marks.some((t=>t===e));return s?-1:1}))},getLesPrise(t){let e=null;for(let s in t.priseStructure)for(let r in t.priseStructure[s].prises)isNaN(+t.priseStructure[s].prises[r])||(null===e||+t.priseStructure[s].prises[r]<e)&&(e=+t.priseStructure[s].prises[r]);return e},getBiggerPrise(t){let e=null;for(let s in t.priseStructure)for(let r in t.priseStructure[s].prises)isNaN(+t.priseStructure[s].prises[r])||(null===e||+t.priseStructure[s].prises[r]>e)&&(e=+t.priseStructure[s].prises[r]);return e},cheapFirst(t){return t.sort(((t,e)=>{let s=this.getLesPrise(t),r=this.getLesPrise(e);return s>r?1:-1}))},expensiveFirst(t){return t.sort(((t,e)=>{let s=this.getBiggerPrise(t),r=this.getBiggerPrise(e);return s<r?1:-1}))},sortByType(t,e){let s=t.filter((t=>{for(let s in t.priseStructure)if(-1!==e.type.indexOf(s))return!0}));return s},sortByWeight(t){let e=t.filter((t=>{for(let e in t.priseStructure)for(let s in t.priseStructure[e].prises)if(!isNaN(+t.priseStructure[e].prises[s]))return console.log(+t.priseStructure[e].prises[s]),!0}));return e},sortedMain(t,e){let s=e;switch(t.type.length>0&&(s=this.sortByType(s,t)),t.weight.length>0&&(s=this.sortByWeight(s)),console.log(s),t.sortType){case"Новинка":return this.sortMarks(s,"Новинка");case"Хіт продажів":return this.sortMarks(s,"Хіт продажів");case"Акція":return this.sortMarks(s,"Акція");case"Спочатку дешеві":return this.cheapFirst(s);case"Спочатку дорогі":return this.expensiveFirst(s);default:return s}}}},f=_,k=(0,p.Z)(f,C,v,!1,null,"c26aee4c",null),S=k.exports,b=s(6325),x={name:"CatalogPage",components:{Links:o.Z,Catalog:S,BreadCrumbs:b.Z,Sorter:g},data(){return{breadCrumbs:[{name:"Головна",link:"/"},{name:"Каталог",link:"catalog"}],sortedOptions:{weight:[],type:[],sortType:"По замовчуванню"},sortedProducts:[]}},computed:{},methods:{setOptions(t){t&&(this.sortedOptions=t)},getSorterProducts(){return 0===this.products.length&&(console.log("true"),this.products=this.$store.getters.getAllProducts),this.products}}},B=x,P=(0,p.Z)(B,r,i,!1,null,"f1a2e5ee",null),$=P.exports}}]);